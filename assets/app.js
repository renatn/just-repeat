webpackJsonp([1],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var a=n(6),o=r(a),u=n(61),l=r(u),c=n(34),i=n(194),s=(r(i),n(195)),f=r(s),d=n(25),p=n(106),m=n(104),h=r(m),y=(0,c.combineReducers)({router:p.router,decks:p.decks,player:p.player,spa:p.spa}),v=["ADD_DECK","UPDATE_DECK","ADD_CARD","REMOVE_DECK","DIFFICULTY_LEVEL","STUDY_DONE"],b=function(e){return function(t){return function(n){var r=t(n);if(-1!==v.indexOf(n.type)){var a=e.getState(),o=a.decks,u=localStorage.getItem("react-flashcards-v1");localStorage.setItem("react-flashcards-v1.bak",u),localStorage.setItem("react-flashcards-v1",JSON.stringify(o)),console.info("Saved "+o.length+" decks"),-1!==["REMOVE_DECK"].indexOf(n.type)&&(r=t({type:"SHOW_UNDO"}))}return r}}},E=[f["default"],b],_=(0,c.createStore)(y,c.applyMiddleware.apply(void 0,E));l["default"].render(o["default"].createElement(d.Provider,{store:_},o["default"].createElement(h["default"],null)),document.getElementById("app"))},55:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),o=r(a),u=function(e){var t=e.caption,n=e.onRef,r=e.onEnter,a=function(e){var t=e.keyCode||e.which;13===t&&r&&r()};return o["default"].createElement("div",{className:"input"},o["default"].createElement("label",{className:"input__label"},t),o["default"].createElement("input",{className:"input__field",ref:n,type:"text",onKeyDown:a}))};u.propTypes={caption:o["default"].PropTypes.string,onRef:o["default"].PropTypes.func,onEnter:o["default"].PropTypes.func},t["default"]=u},96:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return{type:"START_STUDY",cards:e}},r=function(){return function(e){localStorage.setItem("hide-disclaimer","true"),e({type:"HIDE_DISCLAIMER"})}},a=function(){return function(e){var t="true"!==localStorage.getItem("hide-disclaimer");t&&e({type:"SHOW_DISCLAIMER"});var n=localStorage.getItem("react-flashcards-v1");if(!n)return e({type:"NOPE "});var r=JSON.parse(n);e({type:"SET_DECKS",decks:r})}},o=function(e){return function(t){localStorage.setItem("react-flashcards-v1",JSON.stringify(e)),t({type:"SAVE_SUCCESS",message:"Saved "+e.length+" decks"})}},u=function(e){return function(t,r){var a=r().decks.find(function(t){return t.name===e});t(n(a.cards)),t({type:"ROUTE",route:"/STUDY",deck:e})}},l=function(){return function(e){var t=localStorage.getItem("react-flashcards-v1.bak");localStorage.setItem("react-flashcards-v1",t),e(a()),e(_())}},c=function(e,t){return function(n){n({type:"ADD_DECK",name:e,color:t}),n(y())}},i=function(e,t,n){return function(r){r({type:"UPDATE_DECK",index:e,name:t,color:n}),r(y())}},s=function(e,t,n){return function(r){r({type:"ADD_CARD",deck:e,front:t,back:n}),r(y())}},f=function(e){return function(t){t({type:"ROUTE",route:"/BROWSE",deck:e})}},d=function(e){return function(t){t({type:"STUDY_DONE",deckName:e}),t(y())}},p=function(e){return{type:"SHOW_ANSWER",front:e}},m=function(e,t,n){return{type:"DIFFICULTY_LEVEL",deck:e,front:t,level:n}},h=function(e){return{type:"ROUTE",route:e}},y=function(){return{type:"ROUTE",route:"/"}},v=function(e){return{type:"ROUTE",route:"/ADD_CARD",deck:e}},b=function(){return{type:"ROUTE",route:"/ADD_DECK"}},E=function(e){return{type:"REMOVE_DECK",deck:e}},_=function(){return{type:"HIDE_UNDO"}},D=function(e){return{type:"ROUTE",route:"/EDIT_DECK",deckName:e}};t["default"]={addCard:s,load:a,save:o,answer:p,cardLevel:m,addDeck:c,updateDeck:i,removeDeck:E,study:u,undo:l,closeUndo:_,browse:f,studyDone:d,route:h,routeRoot:y,routeAddCard:v,routeAddDeck:b,routeEditDeck:D,startStudy:n,hideDisclaimer:r}},97:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(6),i=r(c),s=n(55),f=r(s),d=function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.inputFront=null,n.inputBack=null,n.handleAdd=n.handleAdd.bind(n),n.handleCancel=n.handleCancel.bind(n),n}return u(t,e),l(t,[{key:"handleAdd",value:function(e){e.preventDefault(),this.inputFront.value&&this.inputBack.value&&(this.props.addCard(this.props.router.deck,this.inputFront.value,this.inputBack.value),this.inputFront.value="",this.inputBack.value="")}},{key:"handleCancel",value:function(e){e.preventDefault(),this.props.routeRoot()}},{key:"render",value:function(){var e=this;return i["default"].createElement("div",null,i["default"].createElement("header",{className:"overlay__title"},i["default"].createElement("h1",null,this.props.router.deck," : Новая карточка")),i["default"].createElement("form",{className:"form",onSubmit:this.handleAdd},i["default"].createElement("div",{className:"form__fields"},i["default"].createElement(f["default"],{caption:"Вопрос",onRef:function(t){return e.inputFront=t}}),i["default"].createElement(f["default"],{caption:"Ответ",onRef:function(t){return e.inputBack=t}}),i["default"].createElement("button",{type:"submit",className:"btn btn--alt"},"Добавить"),i["default"].createElement("a",{href:"",className:"link",onClick:this.handleCancel},"Отменить"))))}}]),t}(c.Component);d.propTypes={routeRoot:i["default"].PropTypes.func,addCard:i["default"].PropTypes.func,router:i["default"].PropTypes.object},t["default"]=d},98:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(6),i=r(c),s=n(55),f=r(s),d=["#e45a84","#5a74e4","#EAD82C","#4fd75f","#D49045"],p=function(e){var t="color-picker__item "+(e.selected?"color-picker__item--selected":""),n=function(){return e.onClick(e.color)};return i["default"].createElement("li",{className:t,style:{backgroundColor:e.color},onClick:n})},m=function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.handleAdd=function(e){if(e.preventDefault(),n.input.value){var t="/EDIT_DECK"===n.props.router.route;t?n.props.updateDeck(n.deckIndex,n.input.value,n.state.selectedColor):n.props.addDeck(n.input.value,n.state.selectedColor)}},n.handleCancel=function(e){e.preventDefault(),n.props.routeRoot()},n.handleRef=function(e){n.input=e,e&&(n.input.value=n.deckName||"")},n.handleSelectColor=function(e){return n.setState({selectedColor:e})},n.state={selectedColor:d[0]},n}return u(t,e),l(t,[{key:"render",value:function(){var e=this,t="/EDIT_DECK"===this.props.router.route;if(t){var n=this.props.decks;this.deckIndex=n.findIndex(function(t){return t.name===e.props.router.deckName}),this.deckName=n[this.deckIndex].name}return i["default"].createElement("div",null,i["default"].createElement("header",{className:"overlay__title"},i["default"].createElement("h1",null,t?this.deckName:"Новая колода")),i["default"].createElement("form",{className:"form",onSubmit:this.handleAdd},i["default"].createElement("div",{className:"form__fields"},i["default"].createElement(f["default"],{caption:"Название",onRef:this.handleRef}),i["default"].createElement("div",null,i["default"].createElement("label",{className:"input__label"},"Цвет"),i["default"].createElement("ul",{className:"color-picker"},d.map(function(t,n){return i["default"].createElement(p,{key:n,selected:t===e.state.selectedColor,color:t,onClick:e.handleSelectColor})}))),i["default"].createElement("button",{className:"btn btn--alt",type:"submit"},t?"Изменить":"Создать"),i["default"].createElement("a",{href:"",className:"link",onClick:this.handleCancel},"Отменить"))))}}]),t}(c.Component);m.propTypes={router:i["default"].PropTypes.object,routeRoot:i["default"].PropTypes.func},t["default"]=m},99:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(6),s=r(i),f=(n(25),n(101)),d=r(f),p=function(e){function t(){return a(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),c(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.router,r=t.decks,a=r.find(function(e){return e.name===n.deck});return s["default"].createElement("div",null,s["default"].createElement("header",{className:"overlay__title"},s["default"].createElement("h1",null,n.deck)),s["default"].createElement("ul",null,a.cards.map(function(t,n){return s["default"].createElement(d["default"],l({},t,{key:n,onRemove:e.props.onRemoveCard}))})))}}]),t}(i.Component);t["default"]=p},100:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),o=r(a),u=function(e){var t=e.isAnswered,n=e.onAnswer,r=e.onDifficult,a=function(){return r(0)},u=function(){return r(1)},l=function(){return r(2)};return o["default"].createElement("div",{className:"flashcard-actions"},o["default"].createElement("button",{className:t?"hidden":"btn btn--base",onClick:n},"Показать ответ"),o["default"].createElement("span",{className:t?"":"hidden"},o["default"].createElement("button",{className:"btn btn--base",onClick:a},"Легко"),o["default"].createElement("button",{className:"btn btn--base",onClick:u},"Нормально"),o["default"].createElement("button",{className:"btn btn--base",onClick:l},"Тяжело")))};u.propTypes={isAnswered:o["default"].PropTypes.bool,onAnswer:o["default"].PropTypes.func,onDifficult:o["default"].PropTypes.func},t["default"]=u},101:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),o=r(a),u=function(e){var t=new Date(e);return t.toString()},l=function(e){var t=e.front,n=e.back,r=e.nextTime,a=e.onRemove,l=function(){return a(t)};return o["default"].createElement("li",null,t," - ",n,", nextTime: ",u(r),"   ",o["default"].createElement("button",{onClick:l},"×"))};l.propTypes={front:o["default"].PropTypes.string,back:o["default"].PropTypes.string,onRemove:o["default"].PropTypes.func},t["default"]=l},102:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(6),i=r(c),s=n(22),f=r(s),d=function(e){switch(e){case 1:return"карточка";case 2:case 3:case 4:return"карточки";default:return"карточек"}},p=function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.handleStudy=function(){return n.props.study(n.props.deck.name)},n.handleAddCard=function(e){e.preventDefault(),n.props.routeAddCard(n.props.deck.name)},n.handleRemove=function(){return n.props.removeDeck(n.props.deck.name)},n.handleBrowse=function(e){e.preventDefault(),n.props.browse(n.props.deck.name)},n.handleMenuToggle=function(e){e.preventDefault(),n.setState({isMenuVisible:!n.state.isMenuVisible})},n.handleEditDeck=function(e){e.preventDefault(),n.props.routeEditDeck(n.props.deck.name)},n.state={isMenuVisible:!1},n}return u(t,e),l(t,[{key:"render",value:function(){var e=this.props.deck;return i["default"].createElement("li",{className:"deck",style:{backgroundColor:e.color||"#e45a84"}},i["default"].createElement("div",{className:"deck__top"},i["default"].createElement("a",{href:"",title:"Редактировать",className:"deck__edit-btn",onClick:this.handleEditDeck},"⚙"),i["default"].createElement("div",{className:"deck__name"},e.name),i["default"].createElement("div",null,i["default"].createElement("a",{href:"",className:"deck__count",onClick:this.handleBrowse},e.cards.length," ",d(e.cards.length)))),i["default"].createElement("div",{className:(0,f["default"])({deck__actions:!0,"deck__actions--ext":this.state.isMenuVisible})},i["default"].createElement("div",{className:"main-actions"},i["default"].createElement("button",{className:"btn btn--alt",onClick:this.handleStudy},"Учить"),i["default"].createElement("button",{className:"btn btn--alt",onClick:this.handleAddCard},"Пополнить")),i["default"].createElement("div",{className:"ext-actions"},i["default"].createElement("button",{className:"btn btn--more",onClick:this.handleMenuToggle},"⋮"),i["default"].createElement("div",{className:"ext-actions__content"},i["default"].createElement("button",{className:"btn btn--alt",onClick:this.handleRemove},"Удалить")))))}}]),t}(c.Component);t["default"]=p,p.propTypes={deck:i["default"].PropTypes.object,study:i["default"].PropTypes.func,routeAddCard:i["default"].PropTypes.func,routeEditDeck:i["default"].PropTypes.func,browse:i["default"].PropTypes.func,removeDeck:i["default"].PropTypes.func,toggleDeckMenu:i["default"].PropTypes.func}},103:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(6),u=r(o),l=n(102),c=r(l),i=function(e){if(0===e.decks.length)return null;var t=function(t){t.preventDefault(),e.routeAddDeck()};return u["default"].createElement("ul",{className:"deck-grid"},e.decks.map(function(t,n){return u["default"].createElement(c["default"],a({key:n,deck:t},e))}),u["default"].createElement("li",{className:"deck deck--empty"},u["default"].createElement("a",{href:"",className:"btn-link",onClick:t},u["default"].createElement("span",null,"Добавить колоду"))))};i.propTypes={routeAddDeck:u["default"].PropTypes.func,decks:u["default"].PropTypes.array},t["default"]=i},104:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(6),i=r(c),s=n(25),f=n(22),d=r(f),p=n(34),m=n(96),h=r(m),y=n(105),v=r(y),b=n(97),E=r(b),_=n(99),D=r(_),k=n(98),C=r(k),O=n(103),g=r(O),w=function(e,t){switch(e){case"/STUDY":return i["default"].createElement(v["default"],t);case"/ADD_CARD":return i["default"].createElement(E["default"],t);case"/BROWSE":return i["default"].createElement(D["default"],t);case"/ADD_DECK":return i["default"].createElement(C["default"],t);case"/EDIT_DECK":return i["default"].createElement(C["default"],t);default:return null}},T=function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.handleCloseUndo=n.handleCloseUndo.bind(n),n.handleCloseDisclaimer=n.handleCloseDisclaimer.bind(n),n}return u(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.load()}},{key:"handleCloseDisclaimer",value:function(e){e.preventDefault(),this.props.hideDisclaimer()}},{key:"handleCloseUndo",value:function(e){e.preventDefault(),this.props.closeUndo()}},{key:"render",value:function(){var e=this.props,t=e.decks,n=e.router,r=e.spa,a="/"!==n.route,o=r.isDisclaimerOpen;return i["default"].createElement("div",{className:"root"},i["default"].createElement("div",{className:(0,d["default"])({disclaimer:!0,"disclaimer--open":o})},i["default"].createElement("p",{className:"container"},"Приложение работает полностью оффлайн, все введённые данные сохраняются только в вашем браузере.",i["default"].createElement("br",null),i["default"].createElement("a",{href:"",className:"link",onClick:this.handleCloseDisclaimer},"Спасибо, понятно!"))),i["default"].createElement("header",{className:"app-header"},i["default"].createElement("h1",{className:"app-header__title"},"Just Repeat!"),i["default"].createElement("div",{className:(0,d["default"])({hidden:t.length>0,container:!0})},i["default"].createElement("div",{className:"app_header__description"},i["default"].createElement("p",null,"Интервальные повторения — техника удержания в памяти, заключающаяся в повторении запомненного учебного материала по определённым, постоянно возрастающим интервалам")),i["default"].createElement("div",{className:"call-to-action"},i["default"].createElement("button",{className:"btn btn--accent",onClick:this.props.routeAddDeck},"Добавить колоду")))),i["default"].createElement("main",{className:"main"},i["default"].createElement("div",{className:"main__content"},i["default"].createElement(g["default"],this.props))),i["default"].createElement("div",{className:(0,d["default"])({overlay:!0,"overlay--open":a})},i["default"].createElement("button",{className:"overlay__button-close",onClick:this.props.routeRoot}),i["default"].createElement("div",{className:"overlay__content"},w(n.route,this.props))),i["default"].createElement("div",{className:(0,d["default"])({undo:!0,"undo--open":r.showUndo})},i["default"].createElement("div",{className:"container"},i["default"].createElement("button",{className:"btn btn--base",onClick:this.props.undo},"Отменить"),i["default"].createElement("a",{href:"",className:"link",onClick:this.handleCloseUndo},"Закрыть"))))}}]),t}(c.Component);t["default"]=(0,s.connect)(function(e){return{decks:e.decks,router:e.router,player:e.player,spa:e.spa}},function(e){return(0,p.bindActionCreators)(h["default"],e)})(T)},105:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(6),i=r(c),s=n(22),f=r(s),d=n(100),p=r(d),m=function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.handleAnswer=n.handleAnswer.bind(n),n.handleDifficult=n.handleDifficult.bind(n),n.handleDone=n.handleDone.bind(n),n}return u(t,e),l(t,[{key:"handleAnswer",value:function(){var e=this.props.player[0];this.props.answer(e.front)}},{key:"handleDifficult",value:function(e){var t=this.props.player[0];this.props.cardLevel(this.props.router.deck,t.front,e)}},{key:"handleDone",value:function(){this.props.studyDone(this.props.router.deck)}},{key:"render",value:function(){var e=this.props,t=e.router,n=e.player;if(0===n.length)return i["default"].createElement("div",{className:"study-done"},i["default"].createElement("h1",null,"Интервальное повторение завершено!"),i["default"].createElement("button",{className:"btn btn--base",onClick:this.handleDone},"OK"));var r=n[0];return i["default"].createElement("div",null,i["default"].createElement("header",{className:"overlay__title"},i["default"].createElement("h1",null,t.deck," : Осталось ",n.length)),i["default"].createElement("div",{className:"flashcard"},i["default"].createElement("p",{className:"flashcard__front"},r.front),i["default"].createElement("p",{className:(0,f["default"])({hidden:!r.isAnswered,flashcard__back:!0})},r.back)),i["default"].createElement(p["default"],{isAnswered:r.isAnswered,onAnswer:this.handleAnswer,onDifficult:this.handleDifficult}))}}]),t}(c.Component);m.propTypes={player:i["default"].PropTypes.array,router:i["default"].PropTypes.object,answer:i["default"].PropTypes.func,cardLevel:i["default"].PropTypes.func,studyDone:i["default"].PropTypes.func},t["default"]=m},106:function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e,t){switch(t){case 0:return 864e5*e;case 1:return 36e5*e;case 2:return 6e4;default:return 1e3}},o=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case"ADD_CARD":return{front:t.front,back:t.back,level:0,lastTime:0,nextTime:0};case"DIFFICULTY_LEVEL":if(e.front!==t.front)return e;var n=Date.now(),o=e.lastTime||n,u=n+a(n/o,t.level);return r({},e,{level:t.level,lastTime:n,nextTime:u});default:return e}},u=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments[1];switch(t.type){case"ADD_CARD":return[].concat(n(e),[o(void 0,t)]);case"REMOVE_CARD":return e.filter(function(e){return e.front!==t.front});case"DIFFICULTY_LEVEL":return e.map(function(e){return o(e,t)});default:return e}},l=(t.player=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments[1];switch(t.type){case"START_STUDY":var n=Date.now();return t.cards.filter(function(e){return e.nextTime<=n}).sort(function(e,t){return e.level-t.level}).map(function(e){return r({},e,{isAnswered:!1})});case"SHOW_ANSWER":return e.map(function(e){return e.front===t.front?r({},e,{isAnswered:!0}):e});case"DIFFICULTY_LEVEL":return e.slice(1);default:return e}},t.router=function(){var e=arguments.length<=0||void 0===arguments[0]?{route:"/"}:arguments[0],t=arguments[1];switch(t.type){case"ROUTE":return t;default:return e}},t.spa=function(){var e=arguments.length<=0||void 0===arguments[0]?{showUndo:!1,isDisclaimerOpen:!1}:arguments[0],t=arguments[1];switch(t.type){case"SHOW_UNDO":return r({},e,{showUndo:!0});case"HIDE_UNDO":return r({},e,{showUndo:!1});case"SHOW_DISCLAIMER":return r({},e,{isDisclaimerOpen:!0});case"HIDE_DISCLAIMER":return r({},e,{isDisclaimerOpen:!1});default:return e}},function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case"ADD_DECK":return{name:t.name,color:t.color,cards:u(void 0,{}),lastTime:0};case"ADD_CARD":case"DIFFICULTY_LEVEL":return e.name!==t.deck?e:r({},e,{cards:u(e.cards,t)});case"STUDY_DONE":return e.name!==t.deckName?e:r({},e,{lastTime:Date.now()});default:return e}}),c=function(e){return isNaN(e)?0:e},i=function(e,t){return c(e.lastTime)-c(t.lastTime)};t.decks=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments[1];switch(t.type){case"SET_DECKS":return t.decks;case"ADD_DECK":return[].concat(n(e),[l(void 0,t)]);case"UPDATE_DECK":return[].concat(n(e.slice(0,t.index)),[r({},e[t.index],{name:t.name,color:t.color})],n(e.slice(t.index+1)));case"REMOVE_DECK":return e.filter(function(e){return e.name!==t.deck});case"ADD_CARD":case"DIFFICULTY_LEVEL":return e.map(function(e){return l(e,t)});case"STUDY_DONE":return e.map(function(e){return l(e,t)}).sort(i);default:return e}}},194:function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function a(e,t,a,o){switch("undefined"==typeof e?"undefined":r(e)){case"object":return"function"==typeof e[o]?e[o].apply(e,n(a)):e[o];case"function":return e(t);default:return e}}function o(){function e(){w.forEach(function(e,t){var n=e.started,o=e.startedTime,l=e.action,i=e.prevState,s=e.error,d=e.took,p=e.nextState,h=w[t+1];h&&(p=h.prevState,d=h.started-n);var v=D(l),b="function"==typeof f?f(function(){return p},l):f,E=c(o),_=g.title?"color: "+g.title(v)+";":null,k="action "+(y?E:"")+" "+v.type+" "+(m?"(in "+d.toFixed(2)+" ms)":"");try{b?g.title?u.groupCollapsed("%c "+k,_):u.groupCollapsed(k):g.title?u.group("%c "+k,_):u.group(k)}catch(C){u.log(k)}var O=a(r,v,[i],"prevState"),T=a(r,v,[v],"action"),N=a(r,v,[s,i],"error"),S=a(r,v,[p],"nextState");O&&(g.prevState?u[O]("%c prev state","color: "+g.prevState(i)+"; font-weight: bold",i):u[O]("prev state",i)),T&&(g.action?u[T]("%c action","color: "+g.action(v)+"; font-weight: bold",v):u[T]("action",v)),s&&N&&(g.error?u[N]("%c error","color: "+g.error(s,i)+"; font-weight: bold",s):u[N]("error",s)),S&&(g.nextState?u[S]("%c next state","color: "+g.nextState(p)+"; font-weight: bold",p):u[S]("next state",p));try{u.groupEnd()}catch(C){u.log("—— log end ——")}}),w.length=0}var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.level,r=void 0===n?"log":n,o=t.logger,u=void 0===o?console:o,l=t.logErrors,s=void 0===l?!0:l,f=t.collapsed,d=t.predicate,p=t.duration,m=void 0===p?!1:p,h=t.timestamp,y=void 0===h?!0:h,v=t.transformer,b=t.stateTransformer,E=void 0===b?function(e){return e}:b,_=t.actionTransformer,D=void 0===_?function(e){return e}:_,k=t.errorTransformer,C=void 0===k?function(e){return e}:k,O=t.colors,g=void 0===O?{title:function(){return"#000000"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}}:O;if("undefined"==typeof u)return function(){return function(e){return function(t){return e(t)}}};v&&console.error("Option 'transformer' is deprecated, use stateTransformer instead");var w=[];return function(t){var n=t.getState;return function(t){return function(r){if("function"==typeof d&&!d(n,r))return t(r);var a={};w.push(a),a.started=i.now(),a.startedTime=new Date,a.prevState=E(n()),a.action=r;var o=void 0;if(s)try{o=t(r)}catch(u){a.error=C(u)}else o=t(r);if(a.took=i.now()-a.started,a.nextState=E(n()),e(),a.error)throw a.error;return o}}}}var u=function(e,t){return new Array(t+1).join(e)},l=function(e,t){return u("0",t-e.toString().length)+e},c=function(e){return"@ "+l(e.getHours(),2)+":"+l(e.getMinutes(),2)+":"+l(e.getSeconds(),2)+"."+l(e.getMilliseconds(),3)},i="undefined"!=typeof performance&&"function"==typeof performance.now?performance:Date;e.exports=o},195:function(e,t){"use strict";function n(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(a){return"function"==typeof a?a(n,r,e):t(a)}}}}t.__esModule=!0;var r=n();r.withExtraArgument=n,t["default"]=r}});